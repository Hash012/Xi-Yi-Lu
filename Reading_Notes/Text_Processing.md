## 2.6
#### SAE探索目标语言现象的特征过程：
1. 根据目标语言现象构造语言数据集，$(s^+ ,s^−)$。
2. 经SAE的基向量$k$的激活为$a_k^{(1)}=a_k(s^+)$， $a_k^{(0)}=a_k(s^−)$, 每个基向量对每个句子的个体潜在效应为个体潜在效应为:$τ=a_k^{(1)}-a_k^{(0)}$，在该特定数据集上有$EALE_k=\sum_{i=1}^Nτ_k(s_i)$。通过计算每个基向量的$EALE_k$进行敏感性预过滤，并保留绝对值超过第75百分位数的那些。
3. 在SAE后的向量空间，定义二元触发器$Z_k(s) = \mathbb{I}[a_k(s) \geq \theta_k]$。

    **充分概率 (PS)**。
    对于基向量 $k$，添加现象使向量“开启”的概率为：
    $$\text{PS}_k = \Pr \left[ Z_k^{(1)} = 1 \mid Z_k^{(0)} = 0 \right],$$
    其中 $Z_k^{(1)}$ 和 $Z_k^{(0)}$ 分别在 $s^+$ 和 $s^-$ 上测量。

    **必要概率 (PN)**。
    相反，如果现象被移除，向量将关闭的概率为：
    $$\text{PN}_k = \Pr \left[ Z_k^{(0)} = 0 \mid Z_k^{(1)} = 1 \right].$$
    特征表征置信度 (FRC)。 我们用调和平均将两个因果概率结合，以惩罚仅充分或仅必要的向量：
    $$\text{FRC}_k = 2 \cdot \frac{\text{PS}_k \cdot \text{PN}_k}{\text{PS}_k + \text{PN}_k}.$$

    我们从每个 $\langle s^+, s^- \rangle$ 对估计 $\text{PS}_k$ 和 $\text{PN}_k$ 并按 $\text{FRC}_k$ 对向量排序；
4. 最后，将前10名向量的激活分布传递给LLM智能体，该智能体验证每个向量是否真正编码了预期的语言特征，并标记任何不一致或虚假的模式。

#### 通过SAE得到的的特征空间的理解
在Llama-3.1-8B 的 32 层中，
1. 每层特征空间的向量独立编号，不跨层互通
2. 每层特征空间的向量编号关于层是固定的。